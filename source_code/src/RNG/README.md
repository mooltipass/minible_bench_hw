Mooltipass Random Number Generation description
===============================================

1- RNG-LIBRARY, USING THE LIBRARY
---------------------------------
How to use the library? how to work  with it ?

We only have to remember about two functions.

```
void rngInit(void); // Init Timer0 and WDT Interrupt to generate random numbers
void fillArrayWithRandomBytes(uint8_t* buffer, uint8_t nb_bytes); //fill a buffer with random bytes, it's a blocking function !
```

2- TESTING THE LIBRARY AND IMPLEMENTATION
-----------------------------------------
We have tested the library performance generating 1 milion of bytes. The bytes were sent using mooltipass HID protocol and tools/hiddebug/hiddebug.c program and saved into a binary file.

Code extract from MP side:
```
case CMD_GET_RANDOM_NUMBER:
    fillArrayWithRandomBytes(array, 4);
    hexachar_to_string(array[3], &str[0]);
    hexachar_to_string(array[2], &str[2]);
    hexachar_to_string(array[1], &str[4]);
    hexachar_to_string(array[0], &str[6]);

    usbPutstr((char*)str);
    break;
```


To get the statistics of the binary file we have used the <a href="http://www.fourmilab.ch/random/"> ENT Utility </a>. The Fourmilab ENT program is a public domain utility which tests binary data sequences, either as a series of 8 bit bytes, or as a bit stream, with five standard tests for randomness. The output of the ENT utility with the 1 milion binary file is:

```
Entropy = 7.999785 bits per byte.

Optimum compression would reduce the size
of this 1000000 byte file by 0 percent.

Chi square distribution for 1000000 samples is 297.93, and randomly
would exceed this value 3.34 percent of the times.

Arithmetic mean value of data bytes is 127.4941 (127.5 = random).
Monte Carlo value for Pi is 3.140340561 (error 0.04 percent).
Serial correlation coefficient is -0.001321 (totally uncorrelated = 0.0).
```

It took 2 days to generate 1 milion bytes.

3 - DESCRIPTION OF FILES
------------------------
- files in this folder:

```
rng.c               -> RNG library main file
random.bin          -> binary sample with 1 milion bytes generated by mooltipass and RNG library
```
